<ion-header [translucent]="true">
  <ion-toolbar>
    <div class="top-bar">
      <h1 class="welcome-text">Welcome, {{ currentUserName }}</h1>
      <button class="logout-button" (click)="logout()">
        <ion-icon name="log-out-outline" color="danger"></ion-icon> Logout
      </button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="membership-wrapper">

    <!-- SIDEBAR MENU (visible on desktop) -->
    <app-menu></app-menu>

    <!-- MAIN CONTENT AREA -->
    <div class="main-panel">
      <!-- Section Title -->
      <h2 class="section-title">Your Dashboard</h2>

      <!-- DASHBOARD QUICK ACTIONS -->
      <div class="card-grid">

        <!-- Card: Book a Class -->
        <div class="card-box" (click)="goToBook()">
          <ion-icon name="clipboard-outline"></ion-icon>
          <div>
            <h3>Book Class</h3>
            <p>Reserve your training session.</p>
          </div>
        </div>

        <!-- Card: View WOD -->
        <div class="card-box" (click)="goToWod()">
          <ion-icon name="barbell-outline"></ion-icon>
          <div>
            <h3>WOD</h3>
            <p>Check your workout of the day.</p>
          </div>
        </div>

        <!-- Card: Cancel Booking -->
        <div class="card-box" (click)="goToCancel()">
          <ion-icon name="close"></ion-icon>
          <div>
            <h3>Cancel</h3>
            <p>Manage and cancel your classes.</p>
          </div>
        </div>

        <!-- Card: View History -->
        <div class="card-box" (click)="goToFrequency()">
          <ion-icon name="calendar-number"></ion-icon>
          <div>
            <h3>History</h3>
            <p>See your training frequency.</p>
          </div>
        </div>

        <!-- Feedback Button -->
        <div class="fab-wrapper-left">
          <div class="feedback-label">Give your feedback</div>
          <div class="feedback-row">
            <div class="side-arrow">
              <ion-icon name="arrow-forward-outline"></ion-icon>
            </div>
            <ion-fab-button class="pulse-button" (click)="openGoogleForm()">
              <ion-icon name="document-text-outline"></ion-icon>
            </ion-fab-button>
          </div>
        </div>

      </div> <!-- end card-grid -->

      <!-- COMMUNITY PHOTO CAROUSEL -->
      <div class="carousel-wrapper">
        <h3 class="carousel-title">Community Moments</h3>
        <div class="photo-carousel">
          <img *ngIf="carouselImages.length"
               [src]="carouselImages[currentCarouselIndex]"
               alt="Carousel image" />
        </div>
      </div>
    </div> <!-- end .main-panel -->
  </div> <!-- end .membership-wrapper -->

  <!-- MOBILE TABS MENU -->
  <ion-tabs>
    <ion-tab-bar slot="bottom" class="mobile-only">
      
      <ion-tab-button tab="book" (click)="goToBook()">
        <ion-icon name="clipboard-outline"></ion-icon>
        <ion-label>Book</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="wod" (click)="goToWod()">
        <ion-icon name="barbell-outline"></ion-icon>
        <ion-label>WOD</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="cancel" (click)="goToCancel()">
        <ion-icon name="close" color="danger"></ion-icon>
        <ion-label>Cancel</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="frequency" (click)="goToFrequency()">
        <ion-icon name="calendar-number"></ion-icon>
        <ion-label>History</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
</ion-content>
